# MATLAB 学习总结
## 前言
这篇笔记的主要目的是记录一下 matlab 语言的一些语法细节，以及 matlab 中一些非常好用的函数，方便后续拿出来重新看一遍后，就可以再一次直接上手 matlab，因为现在需要转移到 `numpy`了……

一些基本的内容可以直接复习吴恩达老师的`Octave tutorial`，这篇笔记主要记录下一些很重要的同时也是很容易忘记的 matlab 语法，同时将自己在编写 matlab 程序的过程中用到的一些小技巧也记录下来。


## 重要的语法

打印输出
``` matlab
a = pi;
disp(sprintf('2 decimals: %0.2f', a));  % 很类似与C语言中的占位符控制
% 如果要打印6位小数
disp(sprintf('6 decimals: %0.6f', a));
```

基本的矩阵运算
``` matlab
% 同一行中的元素，使用空格或者是逗号隔开
% 不同行的元素，使用分号隔开
A = [1 2; 3 4; 5 6];
v = [1 2 3];        %行向量
vv = [1; 2; 3];      %列向量

v = [1:0.1:10]    %从1开始，增量是0.1，直到增加到10，结果是行向量
v = [1:6];   %使用默认步长为1

ones(2, 3);  %2x3全1矩阵
% 如果想建立全为2的矩阵怎么做呢？
2 * ones(2, 3); 

zeros(1, 3);  % 1x3全0矩阵

rand(3,3);  %建立随机矩阵，每隔元素的值在0-1之间

randn(2,3) %建立的矩阵中元素符合高斯分布，平均值为0，方差为1

eye(6)  %建立6x6的单位矩阵

%绘制直方图
w = rand(1,100);
hist(w);        %默认情况下hist函数使用10个直方柱
hist(w, 50)     %使用50个直方柱子
```
帮助命令
``` matlab
help rand;
help eye;
help hist;
```

**移动数据**
``` matlab
A = [1 2; 3 4; 5 6];
sz = size(A);        %返回的结果是一个行向量[3 2]，第一个值表示矩阵行数，第二个值表示矩阵列数
size(sz)             %返回的结果是[1 2]表示sz矩阵是1x2的矩阵
m = size(A, 1);      %矩阵的行数
n = size(A, 2);      %矩阵的隶属

%length函数一般用在向量中，不用在矩阵中
v = [1:10];
length(v)

%改变当前目录
cd 目录名 
% 列举出所有文件   
ls    
dir      

who             %查看当前工作空间中有多少变量
whos            %查看所有的变量以及变量的尺寸
clc             %清空控制台
close all       %关闭所有的图像
clear           %清空所有的变量
```

**加载数据文件**
``` matlab
data = load('feature.dat');     %需要为load的数据赋值一个变量名
load('data.mat');               %不需要赋变量名，变量名存储在数据文件中过了，load之后可以查看到
A = imread('bird.png');         %加载图片文件，需要赋变量名，A就是一个三维矩阵
```

**存储数据**
``` matlab
v = [1:10];
save hello.mat v            %将向量v存储为hello.mat文件

%.mat文件是不能直接打开显示的

%如果想以文本文档的方式存储
save hello.txt v -ascii     %可以直接打开查看数据
```

**矩阵索引**
``` matlab
%matlab中的行标和列标都是从1开始的，不是从0开始！！
A = rand(3, 2);
A(3, 2);            %第三行第二列的元素
A(3, :);            %第三行所有元素
A(:, 2);            %第二列所有元素
A([1 2], :);        %第一行和第二行所有元素
A(2:end, :);        %从第二行开始的所有元素
```


**矩阵运算**
* `A * B` 就是矩阵乘法
* `A .* C` 矩阵点乘运算，每个对应位置元素相乘
* `A .^ 2` A矩阵每个位置上的元素求平方
* `log(v)` 对每个元素求 log
* `exp(v)` 
* `v + 1` 每个元素值 +1

`max()函数`的几个用法
1. `max(v)` 求向量 v 的最大值
2. `[val, index] = max(v)` 将最大值保留在`val`，最大值对应的索引保留在`index`
3. `max(A)` 求矩阵 A 每一列的最大值，返回结果是一个行向量
4.  `max(A, [], 1)` 得到每一列的最大值
5. `max(A, [], 2)` 得到每一行的最大值

`sum()函数`
1. `sum(A, 1)` 矩阵每一列的和
2. `sum(A, 2)` 矩阵每一行的和

其它常见用法
* `v = [1 15 0.2 0.5]` `v < 3` 返回的结果是`[1 0 1 1]` 返回 bool 值
* `v = [1 15 0.2 0.5]` `find(v < 3)`返回的结果是`[1 3 4]`就是满足条件的元素的索引
* `[r c] = find(A > 7)` 找出矩阵中满足 `Aij > 7`的元素所在的行和列


**绘制数据**
* `plot(t, y, 'r+')` 使用 red 绘制 `+`标记的图像
* `hold on`新的图像绘制在旧的图像上
* `hold off` 新的图像不再绘制到旧的图像上
* `figure(1)` 绘制一副新图像
* 使用`逗号连接`将多条指令放在同一行中：
    ``` matlab
    imagesc(magic(15)), colorbar, colormap gray
    ```


